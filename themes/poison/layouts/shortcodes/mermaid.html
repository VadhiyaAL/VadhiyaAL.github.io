<!-- To automatically render mermaid diagrams -->
{{ if ne (.Page.Scratch.Get "hasMermaid") true }}
<script defer language="javascript" type="text/javascript" src="{{ "js/mermaid.min.js" | absURL }}"></script>
<script>mermaid.initialize({ startOnLoad: true });</script>
{{ .Page.Scratch.Set "hasMermaid" true }}
{{ end }}

<div class="mermaid">
  {{- .Inner | safeHTML }}
</div>